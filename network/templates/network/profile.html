{% extends "network/layout.html"%}

{% block body %}
<div class="container-fluid m-auto text-center">
    <div class="row align-items-center justify-content-center">
        <div class="col-8 m-auto mb-5">
            <h1 class="col-12 text-cnter mx-uto">{{profile_user.username}}'s Profile</h1>
            <hr class="w-50">
            <div class="col-6 mx-auto d-flex flex-row justify-content-between align-items-center text-center">
                <span>Followers: {{followers}}</span>
                <span>Followings: {{followings}}</span>
            </div>
            {% if request.user != profile_user %}
                <form action="{% url 'follow' profile_user.id %}" method="POST">
                    {% csrf_token %}
                    {% if is_in_followings %}
                        <input type="submit" class="btn btn-primary my-5 w-50" name="action" value="Unfollow">
                    {% else %}
                        <input type="submit" class="btn btn-primary my-5 w-50" name="action" value="Follow">
                    {% endif %}
                </form>
            {% endif %}
        </div>
        

        
        <div class="col-12 mt-5">
            <h5 class="col-12 text-center">{{profile_user.username}}'s Posts</h5>
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Content</th>
                    <th scope="col">Author</th>
                    <th scope="col">Date Posted</th>
                    <th scope="col">Likes</th>
                  </tr>
                </thead>
                <tbody>
                  {% for post in posts %}
                    <tr>
                        <td> {{post.content}} </td>
                        <td>
                            <a href="{% url 'profile' post.author.id %}">
                                @{{post.author.username}} 
                            </a>
                        </td>
                        <td> {{post.date_added}} </td>
                        <td> {{post.likes}} &#128151; </td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
        </div>
    </div>
</div>


{% endblock %}